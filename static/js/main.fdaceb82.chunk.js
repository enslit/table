(this.webpackJsonptable=this.webpackJsonptable||[]).push([[0],{198:function(e,t,c){},199:function(e,t,c){},200:function(e,t,c){},201:function(e,t,c){},203:function(e,t,c){},204:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),l=c(14),s=c(7),r=c(19),o=c(5),i=(c(88),c(3));var j=function(e){var t=e.handleClick,c=e.type;return Object(i.jsx)("button",{type:"button",className:"button button_type_".concat(c),onClick:t,children:Object(i.jsx)("span",{className:"material-icons",children:c})})},b=c(83);c(198);var d=function(e){var t=e.color,c=e.onChangeColor,a=Object(n.useState)(!1),l=Object(o.a)(a,2),s=l[0],r=l[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"color-picker",children:Object(i.jsx)("button",{className:"color-picker__button",style:{backgroundColor:t},"aria-label":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0446\u0432\u0435\u0442",type:"button",onClick:function(){r(!s)},children:t})}),s&&Object(i.jsxs)("div",{className:"color-picker__popover",children:[Object(i.jsx)("div",{className:"color-picker__cover",onClick:function(){r(!1)}}),Object(i.jsx)(b.a,{color:t,onChangeComplete:c})]})]})};c(199);var u=function(e){var t=e.onSubmit,c=e.onClose,a=e.initialData,l=Object(n.useState)((null===a||void 0===a?void 0:a.name)||""),s=Object(o.a)(l,2),r=s[0],j=s[1],b=Object(n.useState)((null===a||void 0===a?void 0:a.type)||"main"),u=Object(o.a)(b,2),O=u[0],h=u[1],m=Object(n.useState)((null===a||void 0===a?void 0:a.color)||"#ffffff"),_=Object(o.a)(m,2),f=_[0],x=_[1];return Object(i.jsxs)("form",{noValidate:!0,className:"form",onSubmit:function(e){e.preventDefault(),t({name:r,type:O,color:f})},children:[Object(i.jsxs)("div",{className:"form__fields",children:[Object(i.jsxs)("div",{className:"form__field",children:[Object(i.jsx)("label",{htmlFor:"name",className:"form__label",children:"Name"}),Object(i.jsx)("input",{type:"text",id:"name",className:"form__input",value:r,onChange:function(e){j(e.target.value)},name:"name",required:!0,minLength:2})]}),Object(i.jsxs)("div",{className:"form__field",children:[Object(i.jsx)("label",{htmlFor:"type",className:"form__label",children:"Type"}),Object(i.jsxs)("select",{name:"type",id:"type",className:"form__input",value:O,onChange:function(e){h(e.target.value)},children:[Object(i.jsx)("option",{value:"main",children:"Main"}),Object(i.jsx)("option",{value:"side",children:"Side"}),Object(i.jsx)("option",{value:"content",children:"Content"})]})]}),Object(i.jsxs)("div",{className:"form__field",children:[Object(i.jsx)("span",{className:"form__label",children:"Color"}),Object(i.jsx)(d,{color:f,onChangeColor:function(e){x(e.hex)}})]})]}),Object(i.jsxs)("div",{className:"form__buttons",children:[Object(i.jsx)("button",{type:"submit",className:"form__button form__button_type_submit",children:Object(i.jsx)("span",{className:"material-icons",children:"done"})}),Object(i.jsx)("button",{type:"button",className:"form__button form__button_type_reset",onClick:c,children:Object(i.jsx)("span",{className:"material-icons",children:"clear"})})]})]})};c(200);var O=function(e){var t=e.value,c=e.onSearch,a=Object(n.useState)(!1),l=Object(o.a)(a,2),s=l[0],r=l[1];return Object(i.jsxs)("div",{className:"search",children:[Object(i.jsx)("input",{type:"text",name:"search",className:"search__input ".concat(s&&"search__input_active"),value:t,onChange:function(e){c(e.target.value)},placeholder:"Search By Name..."}),Object(i.jsx)(j,{type:"search",handleClick:function(){s&&c(""),r(!s)}})]})};var h=function(e){var t=e.handleAddNewRow,c=e.handleSearchInput,a=e.searchValue,l=Object(n.useState)(!1),s=Object(o.a)(l,2),r=s[0],b=s[1];return Object(i.jsxs)("thead",{children:[Object(i.jsxs)("tr",{className:"table__row",children:[Object(i.jsx)("td",{className:"table__cell",colSpan:2,children:r?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443":Object(i.jsx)(j,{type:"add",handleClick:function(){return b(!0)}})}),Object(i.jsx)("td",{className:"table__cell table__cell_type_search",colSpan:2,children:Object(i.jsx)(O,{value:a,onSearch:c})})]}),r&&Object(i.jsx)("tr",{className:"table__row",children:Object(i.jsx)("td",{className:"table__cell",colSpan:4,children:Object(i.jsx)(u,{onClose:function(){return b(!1)},onSubmit:function(e){t(e,b)}})})}),Object(i.jsxs)("tr",{className:"table__row",children:[Object(i.jsx)("th",{className:"table__cell",children:"Name"}),Object(i.jsx)("th",{className:"table__cell",children:"Type"}),Object(i.jsx)("th",{className:"table__cell",children:"Color"}),Object(i.jsx)("th",{className:"table__cell",children:"Actions"})]})]})},m=(c(201),c(18));var _=function(e){var t=e.row,c=e.onDeleteRow,a=e.onEditRow,l=e.index,r=Object(n.useState)(!1),j=Object(o.a)(r,2),b=j[0],d=j[1],O=t.id,h=t.name,_=t.type,f=t.color,x=function(){d(!0)},p=function(){c(O)};return b?Object(i.jsx)("tr",{className:"table__row",children:Object(i.jsx)("td",{colSpan:4,children:Object(i.jsx)(u,{onSubmit:function(e){a(Object(s.a)(Object(s.a)({},e),{},{id:O}),d)},onClose:function(){d(!1)},initialData:{name:h,type:_,color:f}})})}):Object(i.jsx)(m.b,{draggableId:String(t.id),index:l,children:function(e){return Object(i.jsxs)("tr",Object(s.a)(Object(s.a)(Object(s.a)({className:"table__row",ref:e.innerRef},e.dragHandleProps),e.draggableProps),{},{children:[Object(i.jsx)("td",{className:"table__cell",children:h}),Object(i.jsx)("td",{className:"table__cell",children:_}),Object(i.jsx)("td",{className:"table__cell",style:{backgroundColor:f},children:f}),Object(i.jsxs)("td",{className:"table__cell table__cell_type_actions",children:[Object(i.jsx)("button",{type:"button",className:"button button_type_edit",onClick:x,children:Object(i.jsx)("span",{className:"material-icons",children:"edit"})}),Object(i.jsx)("button",{type:"button",className:"button button_type_delete",onClick:p,children:Object(i.jsx)("span",{className:"material-icons",children:"delete"})})]})]}))}})};var f=function(e){var t=e.rows,c=e.handleEdit,n=e.handleDelete,l=e.onDragEnd,r=a.a.memo((function(e){return e.rows.map((function(e,t){return Object(i.jsx)(_,{index:t,row:e,onEditRow:c,onDeleteRow:n},e.id)}))}));return 0===t.length?Object(i.jsx)("tbody",{children:Object(i.jsx)("tr",{className:"table__row",children:Object(i.jsx)("td",{className:"table__cell",colSpan:4,children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442..."})})}):Object(i.jsx)(m.a,{onDragEnd:l,children:Object(i.jsx)(m.c,{droppableId:"list",children:function(e){return Object(i.jsxs)("tbody",Object(s.a)(Object(s.a)({ref:e.innerRef},e.droppableProps),{},{children:[Object(i.jsx)(r,{rows:t}),e.placeholder]}))}})})};var x=function(e){var t=e.rows,c=e.handleAddRow,a=e.handleEditRow,l=e.handleDeleteRow,s=e.onDragEnd,j=Object(n.useState)(""),b=Object(o.a)(j,2),d=b[0],u=b[1],O=Object(n.useState)(t),m=Object(o.a)(O,2),_=m[0],x=m[1];return Object(n.useEffect)((function(){x(d?Object(r.a)(t.filter((function(e){var t=e.name.toLowerCase(),c=new RegExp(d.toLowerCase(),"g");return t.match(c)}))):Object(r.a)(t))}),[d,t]),Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)(h,{searchValue:d,handleAddNewRow:c,handleSearchInput:u}),Object(i.jsx)(f,{rows:_,handleEdit:a,handleDelete:l,onDragEnd:s})]})};var p=function(e,t){var c="react-dnd-table-"+e,a=Object(n.useState)((function(){var e=localStorage.getItem(c);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),l=Object(o.a)(a,2),s=l[0],r=l[1];return Object(n.useEffect)((function(){localStorage.setItem(c,JSON.stringify(s))}),[c,s]),[s,r]};var v=function(){var e=p("rows",[]),t=Object(o.a)(e,2),c=t[0],n=t[1];return Object(i.jsx)("div",{className:"container",children:Object(i.jsx)(x,{rows:c,onDragEnd:function(e){if(e.destination&&e.destination.index!==e.source.index){var t=function(e,t,c){var n=Array.from(e),a=n.splice(t,1),l=Object(o.a)(a,1)[0];return n.splice(c,0,l),n}(c,e.source.index,e.destination.index);n(t)}},handleAddRow:function(e,t){n([].concat(Object(r.a)(c),[Object(s.a)({id:c.length+1},e)])),t(!1)},handleEditRow:function(e,t){n(c.map((function(t){return t.id!==e.id?t:e}))),t(!1)},handleDeleteRow:function(e){n(c.filter((function(t){return t.id!==e})))}})})};c(203);Object(l.render)(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(v,{})}),document.getElementById("root"))},88:function(e,t,c){}},[[204,1,2]]]);
//# sourceMappingURL=main.fdaceb82.chunk.js.map